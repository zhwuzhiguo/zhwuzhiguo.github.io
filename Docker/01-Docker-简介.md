# 01-Docker-简介

`Docker` 是一个开源的应用容器引擎，基于 `Go` 语言实现，可以让开发者打包应用以及依赖包到一个轻量级，可移植的容器中，然后发布到 `Linux` 服务器上。

## Docker 构架

`Docker` 使用 `C/S` 架构，`Client` 通过接口与 `Server` 进程通信实现容器的构建、运行和发布。

`Docker` 的三大核心概念：
- `镜像`（`Image`）
- `容器`（`Container`）
- `仓库`（`Repostitory`）

### 镜像（Image）

`镜像`可以用来创建`容器`，一个`镜像`可以创建很多`容器`。

`镜像`是一种轻量级、可执行的独立软件包，用来打包软件运行环境和基于运行环境开发的软件。  
它包含运行某个软件所需的所有内容，包括代码、运行时、库、环境变量和配置文件。  

`UnionFS`（`联合文件系统`）是 `Docker` 镜像的基础。  
它一种分层的文件系统，支持对文件系统的修改作为一次提交来一层层的叠加，同时可以将不同目录挂载到同一个虚拟文件系统下。

`UnionFS` 特性：  
一次同时加载多个文件系统，从外面看起来，只能看到一个文件系统，联合加载会把各层文件系统叠加起来，这样最终的文件系统会包含所有底层的文件和目录。

`镜像`实际上由一层一层的文件系统组成，这种层级的文件系统就是 `UnionFS`。

`镜像`可以通过分层来进行继承，基于`基础镜像`（`没有父镜像`）可以制作各种具体的`应用镜像`。

`镜像`采用分层结构最大的一个好处就是`共享资源`。  
比如有多个镜像都从相同的`base镜像`构建而来，那么宿主机只需在磁盘上保存一份`base镜像`。

`镜像`都是`只读`的，当容器启动时，一个新的`可写层`被加载到镜像的顶部。  
这一层通常被称作`容器层`，`容器层`之下的都叫`镜像层`。

### 容器（Container）

`容器`是从`镜像`创建的运行实例，每个`容器`都是相互隔离的。

可以把`容器`看做是一个简易版的 `Linux` 环境和运行在其中的应用程序。

### 仓库（Repostitory）

`仓库`是集中存放镜像文件的地方。

有时候会把`仓库`和`仓库注册服务`(`Registry`)混为一谈，并不严格区分。

`仓库注册服务器`上往往存放着多个`仓库`，每个`仓库`中又包含了多个`镜像`，每个`镜像`有不同的`标签`(`tag`)。

`仓库`分为`公开仓库`(`Public`)和`私有仓库`(`Private`)两种。

最大的公开仓库 `Docker Hub` 存放了数量庞大的镜像供用户下载。

[https://hub.docker.com/](https://hub.docker.com/)

用户也可以在本地网络内创建一个`私有仓库`。

# 完