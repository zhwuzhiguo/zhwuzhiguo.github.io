<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>

    <button onclick="test()">执行</button>

    <script>

        // 对象解构
        // 对象解构是将对象的属性和方法快速批量赋值给一系列变量的简洁语法
        // 按名称匹配
        // 语法：         
        // const { 属性1, 属性2 } = 对象
        // const { 属性1: 变量1, 属性2: 变量2 } = 对象

        const obj = {
            name: '张三',
            age: 20,
        }

        // 对象解构
        // 可以选择要解构的属性
        // const { name } = obj
        // console.log(name)
        const { name, age } = obj
        console.log(name, age)

        // 对象解构
        // 变量重命名
        const { name: n, age: a } = obj
        console.log(n, a)

        // 对象解构
        // 一个属性赋给多个变量
        console.log('一个属性赋给多个变量')
        const { name: n1, age: a1, name: n2, age: a2 } = obj
        console.log(n1, a1)
        console.log(n2, a2)

        // 数组对象解构
        console.log('数组对象解构')
        const [{ name: name1, age: age1 }, { name: name2, age: age2 }] = [
            { name: '张三', age: 20 },
            { name: '李四', age: 30 }
        ]
        console.log(name1, age1)
        console.log(name2, age2)

        // 多级对象结构
        console.log('多级对象结构')
        const { name: theName, address: { city, country } } = {
            name: '张三',
            age: 20,
            address: {
                city: '北京',
                country: '中国'
            }
        }
        console.log(theName, city, country)


        console.log('响应数据对象结构')
        const response = {
            "code": 200,
            "message": "OK",
            "data": [
                {
                    "name": "张三",
                    "age": 20,
                    "address": {
                        "city": "北京",
                        "country": "中国"
                    }
                },
                {
                    "name": "李四",
                    "age": 30,
                    "address": {
                        "city": "上海",
                        "country": "中国"
                    }
                }
            ]
        }

        const { data } = response
        console.log(data)

        console.log('函数形参使用对象解构')

        function render({ data }) {
            data.forEach(item => {
                const { name, age, address: { city, country } } = item
                console.log(name, age, city, country)
            })
        }

        // 变量重命名
        function render2({ data: responseData }) {
            responseData.forEach(item => {
                const { name, age, address: { city, country } } = item
                console.log(name, age, city, country)
            })
        }

        render(response)
        render2(response)


        function test() {
            alert('ES6+..')
        }

    </script>
</body>

</html>